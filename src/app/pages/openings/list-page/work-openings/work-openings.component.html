<section class="courses-area pt-50 pb-100" [class.dark-courses-area]="themeService.isDark()">
    <div class="container">
        <div class="container">
            <div class="courses-topbar">
                <div class="row align-items-start">
                    <div class="col-12">
                        <div class="topbar-ordering-and-search">
                            <div class="row align-items-start">
                                <div class="col-lg-12 col-md-12">
                                    <div class="topbar-ordering">
                                        <div class="row">
                                            <div class="col-12">
                                                <mat-card class="search-pagenation-deals p-0 text-right">    
                                                    <div class="row align-items-center">
                                                        <div class="col-lg-4 col-12 text-start">
                                                            <div class="topbar-search">
                                                                <!-- Search Bar -->
                                                            </div>
                                                        </div> 
                                                        <div class="col-lg-4 d-none d-lg-block"></div>
                                                        <div class="col-lg-4 col-12 text-end" *ngIf="browser">
                                                            <pagination-controls class="product-pagination" 
                                                                [autoHide]="autoHide" [maxSize]="maxSize" (pageChange)="onPageChanged($event)">
                                                            </pagination-controls>
                                                        </div>
                                                    </div>
                                                </mat-card>
                                            </div>
                                            <div class="col-12">
                                                <mat-progress-bar *ngIf="actionInProgress" mode="indeterminate" color="primary"  ></mat-progress-bar>
                                            </div>
                                        </div>
                                    </div>
                                </div>       
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Job Listings -->
        <div class="row">
            @for (job of searchedJobs() | paginate: { itemsPerPage: count, currentPage: page }; let i = $index; track job.id;) {
                <div class="col-lg-4 col-md-6">
                    <mat-card  class="search-job-feed-item">
                        <mat-card-header style="padding-left: 15px;">
                          <mat-card-title [routerLink]="['/opening/' + job.id]" [innerHtml]="job.name" ></mat-card-title>
                          <mat-card-subtitle  color="accent">{{job.region}} - {{job.jobtype}}</mat-card-subtitle>
                        </mat-card-header>
                        <mat-card-content>
                          <div class="box-primary-shade row" style="position: relative;left:10px;top:10px;">
                              <div class="col-12" style="text-align: left;">
                                <span  color="primary" class="company-name">&#64; {{job.company}}</span>
                              </div>
                          </div>
                          <div style="position: absolute;bottom:50px;right:20px;">
                            <div style="text-align: right;">
                                <div >
                                    <h6><b>{{convertDateFormat(job.pubdate)}}</b></h6>
                                </div>
                                <div>
                                    <small>Published On</small> 
                                </div>
                            </div>
                          </div>
                        </mat-card-content>
                            <div class="row justify-content-center p-1" style="position: absolute;bottom:5px;left:0px;right:0px;padding-bottom:5px;">
                                <div class="col text-center">
                                  <!-- <button class="job-open-button" mat-icon-button aria-label="save Job" (click)="saveToWishList($event, job)" *ngIf="!job.selected"
                                    matTooltip="Add To Wish List"> -->
                                    <i  matTooltip="Add To Wish List" class="fa  fa-heart-o job-card-icon" (click)="saveToWishList($event, job)" *ngIf="!job.selected"></i>
                                    <!-- </button> -->
                                    <!-- <button  class="job-open-button" mat-icon-button aria-label="save Job" (click)="removeFromWishList($event, job)" *ngIf="job.selected"
                                    matTooltip="Remove From Wish List"> -->
                                        <i matTooltip="Remove From Wish List" class="fa  fa-heart job-card-icon" (click)="removeFromWishList($event, job)" *ngIf="job.selected"></i>
                                    <!-- </button> -->
                                </div>
                                <div class="col text-center">
                                    <!-- <button  class="job-open-button" mat-icon-button aria-label="save Job" (click)="shareOnWhatsApp($event, job)" matTooltip="Share on Whats App"> -->
                                        <i class="fa  fa-whatsapp job-card-icon" (click)="shareOnWhatsApp($event, job)" matTooltip="Share on Whats App"></i>
                                    <!-- </button> -->
                                </div>
                                <div class="col text-center">
                                    <!-- <button mat-icon-button aria-label="save Job" (click)="viewJobDetails($event, job)" matTooltip="View Job Details"> -->
                                        <!-- <i class="fa  fa-arrow-right"></i> -->
                                        <i class="fa fa-long-arrow-right job-card-icon" (click)="viewJobDetails($event, job)" matTooltip="View Job Details"></i>
                                    <!-- </button> -->
                                </div>
                            </div>
                            <div style="position: absolute;top:5px;right:5px;background-color:rgba(172, 238, 172, 0.281);padding-top:2px;padding-bottom:2px;padding-left:10px;padding-right:10px;border-radius:4px;">
                                <!-- <small>From:</small> -->
                                <!-- <p-message severity="success" variant="outlined"> -->
                                    <img style="width:65px;" src="assets/img/jobicy-official.svg" />
                                <!-- </p-message> -->
                            </div>
                    </mat-card>
                </div>
            }
        </div>

        <!-- Pagination Section -->
        <div class="row">
            <div class="col-12 text-center">
                <mat-card class="search-pagenation-deals p-0">
                    <div class="row align-items-center">
                        <div class="col-lg-4"></div>
                        <div class="col-lg-4 text-center">
                            <pagination-controls class="product-pagination" 
                                [autoHide]="autoHide" [maxSize]="maxSize"  (pageChange)="onPageChanged($event)">
                            </pagination-controls>
                        </div>
                        <div class="col-lg-4"></div>
                    </div>
                </mat-card>
            </div>
        </div>
    </div>
</section>
